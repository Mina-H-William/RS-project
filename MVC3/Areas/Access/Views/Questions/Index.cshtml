

@{
    var type = ViewData["type"] as string;
    var nontype = type == "" ? "selected" : "";
    var HRtype = type == "HR" ? "selected" : "";
    var Tectype = type == "Technical" ? "selected" : "";
    var none = $"<option value=\"\" disabled {nontype}>Select Department</option>";
    var HR = $"<option value=\"HR\" {HRtype}>HR</option>";
    var Technical = $"<option value=\"Technical\" {Tectype}>Technical</option>";
}

<div style="display: flex; justify-content: center; margin: 20px; border-radius:20px; padding:10px;">
    <select id="typeDropdown">
        @Html.Raw(none)
        @Html.Raw(HR)
        @Html.Raw(Technical)
    </select>
</div>


<div id="questionsDiv">
    <!-- The partial view content will be loaded here -->
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // Function to load partial view based on the selected value
            function loadPartialView(selectedValue) {
                $.ajax({
                    url: '@Url.Action("Questions_part", "Questions")',
                    type: 'GET',
                    data: { type: selectedValue }, // Pass the selected value to the action method
                    success: function (result) {
                        $('#questionsDiv').html(result); // Load the result into the div
                    },
                    error: function (xhr, status, error) {
                        console.error("Error loading partial view:", error);
                    }
                });
            }

            // Trigger the AJAX call when the dropdown value changes
            $('#typeDropdown').change(function () {
                var selectedValue = $(this).val(); // Get the selected value from the dropdown
                loadPartialView(selectedValue); // Load the partial view for the selected value
            });

            // Trigger the AJAX call for the currently selected value on page load
            var initialValue = $('#typeDropdown').val();
            if (initialValue) {
                loadPartialView(initialValue);
            }
        });
    </script>
}